<!DOCTYPE html>
<html lang="en">
	<!--
		Author: Gavin Schnowske
		Project: Matchmaker for the Web
	--> 
		<head>
<meta charset="utf-8">
	<title>Matchmaker for the Web</title>
	<link rel="stylesheet" href="matchmaker.css">
	</head>
	<body>
		<header>
		<h1>Welcome to Matchmaker for the Web!</h1>
	</header>
	<nav>
		<p>My name is Gavin Thomas Schnowske and I'm looking for love!~~~</p>
	</nav>
<aside>
	<h1>What is Matchmaker for the Web?</h1>
	<p>As time goes on, I have come to the realization that I am ready to part ways 
	with the bachelor lifestyle... </p>
	<h4>But how will I find my soulmate?</h4> 
	<p>That is where the Matchmaker for the Web program comes to the rescue! Select a response to each
	of my 5 simple questions, where you have the choice to respond with either... </p>
	<ul>
	<li>Strongly Agree</li>
	<li>Agree</li>
	<li>Neither agree nor disagree</li>
	<li>Disagree</li>
	<li>Strongly Disagree</li>
	</ul>
	<p>Where then, using a cutting edge formula, you will be given an compatability score from 
	the industry-leading Matchmaker algorithm, which will determine just how well of a match we are!
	</p>
</aside>
	
	<article>
		<label>Cats are better than dogs.</label><br />
		<select id="q1">
			<option value="">Select</option>
			<option value="5">Strongly Agree</option>
			<option value="4">Agree</option>
			<option value="3">Neither agree nor disagree</option>
			<option value="2">Disagree</option>
			<option value="1">Strongly Disagree</option>
		</select>
		<br /><br />
	
		<label>Illinois is the greatest state.</label><br />
		<select id="q2">
			<option value="">Select</option>
			<option value="5">Strongly Agree</option>
			<option value="4">Agree</option>
			<option value="3">Neither agree nor disagree</option>
			<option value="2">Disagree</option>
			<option value="1">Strongly Disagree</option>
		</select>
		<br /><br/>
	
		<label>Europe is superior to America.</label><br />
		<select id="q3">
			<option value="">Select</option>
			<option value="5">Strongly Agree</option>
			<option value="4">Agree</option>
			<option value="3">Neither agree nor disagree</option>
			<option value="2">Disagree</option>
			<option value="1">Strongly Disagree</option>
		</select>
		<br /><br/>
	
		<label>The Chicago Bears are the best NFL franchise.</label><br/>
		<select id="q4">
			<option value="">Select</option>
			<option value="5">Strongly Agree</option>
			<option value="4">Agree</option>
			<option value="3">Neither agree nor disagree</option>
			<option value="2">Disagree</option>
			<option value="1">Strongly Disagree</option>
		</select>
		<br/><br/>
	
		<label>Michigan is better than Ohio State.</label><br/>
		<select id="q5">
			<option value="">Select</option>
			<option value="5">Strongly Agree</option>
			<option value="4">Agree</option>
			<option value="3">Neither agree nor disagree</option>
			<option value="2">Disagree</option>
			<option value="1">Strongly Disagree</option>
		</select>
	
		<br/><br/><br/>
		<button onclick="validate()">Calculate Compatibility</button>
	</form>
		
		<p id="compatibility"></p>
		<p id='message'></p>
	</article>


	<script>
	console.log("Starting Matchmaker...");

	let alertShown = false; // Flag to track whether the alert has been shown

function validate() {
    let isValid = true;

    for (let i = 1; i <= 5; i++) {
        let questionResponse = document.getElementById("q" + i).value;
        let errorMessage = document.getElementById("error-q" + i);

        if (questionResponse === "") {
            isValid = false;

            if (!errorMessage) {
                errorMessage = document.createElement("p");
                errorMessage.id = "error-q" + i;
                errorMessage.style.color = "red";
                document.body.appendChild(errorMessage);
            }

            errorMessage.innerHTML = "Please select a response for Question " + i;
			console.log("Please select a response for Question " + i);

            if (!alertShown) {
                alert("Please respond to every question!");
                alertShown = true; 
            }
        } else if (errorMessage) {
            errorMessage.innerHTML = ""; 
        }
    }

    if (isValid) {
        calculateCompatibility();
    }
}
    function calculateCompatibility() {
		console.log("calculateCompatibility()");
	
		const bestMessage = '...Are you my soulmate?'
		const goodMessage = 'We would make great friends!'
		const funMessage = 'We may not see completely eye to eye, but like the saying goes... opposites attract!'
		const badMessage = 'I think we should see other people...'
		const worstMessage = 'No offense, but stay away from me!'

		const DESIRED_RESPONSE = [
			4, /* agree */
			1, /* strongly disagree */
			3, /* neither agree nor disagree */
			5, /* strongly agree */
			1 /* strongly disagree */
		]

		const MAX_SCORE = 25;
	
		let question1Response = document.getElementById("q1").selectedOptions[0].value;
		let question2Response = document.getElementById("q2").selectedOptions[0].value;
		let question3Response = document.getElementById("q3").selectedOptions[0].value;
		let question4Response = document.getElementById("q4").selectedOptions[0].value;
		let question5Response = document.getElementById("q5").selectedOptions[0].value;
	
		console.log('Question 1 Answer:')
		console.log(document.getElementById('q1').selectedOptions[0].text);
		console.log(question1Response);
		console.log('Desired Answer:')
		console.log('Agree')
		console.log(DESIRED_RESPONSE[0]);
	

		console.log('Question 2 Answer:')
		console.log(document.getElementById('q2').selectedOptions[0].text);
		console.log(question2Response);
		console.log('Desired Answer:')
		console.log('Neither agree nor disagree')
		console.log(DESIRED_RESPONSE[1]);
		

		console.log('Question 3 Answer:')
		console.log(document.getElementById('q3').selectedOptions[0].text);
		console.log(question3Response);
		console.log('Desired Answer:')
		console.log('Strongly Disagree')
		console.log(DESIRED_RESPONSE[2]);
	

		console.log('Question 4 Answer:')
		console.log(document.getElementById('q4').selectedOptions[0].text);
		console.log(question4Response);
		console.log('Desired Answer:')
		console.log('Strongly Disagree')
		console.log(DESIRED_RESPONSE[3]);

		console.log('Question 5 Answer:')
		console.log(document.getElementById('q5').selectedOptions[0].text);
		console.log(question5Response);
		console.log('Desired Answer:')
		console.log('Strongly Disagree')
		console.log(DESIRED_RESPONSE[4]);
		


		let question1Compatibility = 5 - Math.abs(question1Response - DESIRED_RESPONSE[0]);
		let question2Compatibility = 5 - Math.abs(question2Response - DESIRED_RESPONSE[1]);
		let question3Compatibility = 5 - Math.abs(question3Response - DESIRED_RESPONSE[2]);
		let question4Compatibility = 5 - Math.abs(question4Response - DESIRED_RESPONSE[3]);
		let question5Compatibility = 5 - Math.abs(question5Response - DESIRED_RESPONSE[4]);
		
		console.log("c1="+question1Compatibility);
		console.log("c2="+question2Compatibility);
		console.log("c3="+question3Compatibility);
		console.log("c4="+question4Compatibility);
		console.log("c5="+question5Compatibility);

		console.log("q1 compatibility:" + question1Compatibility / 5 * 100 + "%");
		console.log("q2 compatibility:" + question2Compatibility / 5 * 100 + "%");
		console.log("q3 compatibility:" + question3Compatibility / 5 * 100 + "%");
		console.log("q4 compatibility:" + question4Compatibility / 5 * 100 + "%");
		console.log("q5 compatibility:" + question5Compatibility / 5 * 100 + "%");

		let totalCompatibility = question1Compatibility + question2Compatibility + question3Compatibility + question4Compatibility + question5Compatibility;
		totalCompatibility *= 100 / MAX_SCORE;
		totalCompatibility = Math.round(totalCompatibility);

		document.getElementById("compatibility").innerHTML = "Your compatibility score is: " + totalCompatibility + "%";

    console.log('Your total compatibility score is:' + totalCompatibility + "%")
			if (totalCompatibility >= 100) {
			console.log(bestMessage);
			document.getElementById("message").innerHTML = bestMessage;
		} else if (totalCompatibility >= 80) { 
			console.log(goodMessage);
			document.getElementById("message").innerHTML = goodMessage;
		} else if (totalCompatibility >= 60) {
			console.log(funMessage);
			document.getElementById("message").innerHTML = funMessage;
		} else if (totalCompatibility >= 40) {
			console.log(badMessage);
			document.getElementById("message").innerHTML = badMessage;
		} else {
			console.log(worstMessage);
			document.getElementById("message").innerHTML = worstMessage;
		}
		
}
	</script>

<img src="heart.gif" alt="Rotating Heart" width="250" height="200">

	</body>
	</html>